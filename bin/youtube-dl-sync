#!/usr/bin/env python3

from __future__ import unicode_literals
from __future__ import print_function
import youtube_dl

import sys
import argparse
import yaml

#print(sys.argv)

#Parse arguments
parser = argparse.ArgumentParser(description='Syncs youtube videos from passed file.')
parser.add_argument("config", type=str,
        help='The file to read the config from.')
parser.add_argument("output", type=str,
        help='Directory to store the playlists.')
parser.add_argument("-v", "--verbose", action="store_true",
        help='Turns on verbose output.')
args = parser.parse_args()

if args.verbose:
    print("verbosity turned on")
    print("Config file:", args.config)
    print("Target Dir:", args.output)

with open(args.config, 'r') as stream:
    try:
        config = yaml.load(stream)
        print(config)
    except yaml.YAMLError as exc:
        eprint(exc)
